const SELECTORS={getAnimationElements:e=>`[voomsh="${e}"], .voomsh-`+e,replayButtons:'[voomsh="replay"], .voomsh-replay',buttons:'[voomsh="btn-1"], .voomsh-btn-1'},DEFAULTS={scrollTrigger:{start:"top 90%",end:"bottom 10%",toggleActions:"play none none reverse",markers:!1},skipAnimation:!1,buttonAnimations:{hover:{enter:e=>({paddingLeft:1.2*e.left,paddingRight:1.2*e.right,scale:1.05,duration:.3,ease:"back.out(3)"}),leave:e=>({paddingLeft:e.left,paddingRight:e.right,scale:1,duration:.3,ease:"back.out(1)"})},click:{down:{scale:1,filter:"blur(4px)",duration:.1,ease:"power2.out"},up:{scale:1.05,filter:"blur(0px)",duration:.1,ease:"power2.out"}}}},animations={"hdr-1":{variants:{default:{from:{x:40,duration:.5,stagger:.03,opacity:0,filter:"blur(15px)",ease:"circ.out"},reset:{opacity:1,x:0,filter:"blur(0px)"}}},setup:e=>{e=new SplitType(e,{types:"lines"});return{lines:e,chars:new SplitType(e.lines,{types:"chars"})}},getTarget:e=>e.chars.chars},"par-1":{variants:{default:{from:{x:10,stagger:.05,duration:.3,opacity:0,filter:"blur(5px)",ease:"circ.out"},reset:{x:0,opacity:1,filter:"blur(0px)"}}},setup:e=>{e=new SplitType(e,{types:"lines"});return{lines:e,words:new SplitType(e.lines,{types:"words"})}},getTarget:e=>e.words.words}},instances=new Map,loadDependencies=(window.voomInstances=instances,async()=>{try{return await Promise.all([loadScript("https://unpkg.com/split-type"),loadScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js")]),await loadScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"),gsap.registerPlugin(ScrollTrigger),!0}catch(e){return console.error("Failed to load Voom dependencies:",e),!1}});function loadScript(r){return new Promise((e,t)=>{var n=document.createElement("script");n.src=r,n.onload=e,n.onerror=t,document.body.appendChild(n)})}function cleanup(){instances.forEach(e=>{e.split.chars&&e.split.chars.revert(),e.split.lines&&e.split.lines.revert(),e.split.revert&&e.split.revert()}),instances.clear()}const debounce=(t,n)=>{let r;return function(...e){clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),t(...e)},n)}};function applyAnimation(e,t){try{var n=t.setup(e);return n?{split:n,target:t.getTarget(n)}:(console.warn("Split operation failed for element:",e),null)}catch(e){return console.error("Error applying animation:",e),null}}function applyTrigger(n,r,i=!1){var o=applyAnimation(n,r);if(o){let{split:e,target:t}=o;var o=n.getAttribute("voomtrigger")||n.getAttribute("data-voomtrigger")||"scroll",a=window.innerWidth<768?"mobile":"default";const l=r.variants[a]||r.variants.default;switch(instances.set(n,{split:e,target:t,config:l}),o){case"hover":gsap.set(t,l.reset),n.addEventListener("mouseenter",()=>{gsap.from(t,l.from)});break;case"click":gsap.set(t,l.reset),n.addEventListener("click",()=>{gsap.from(t,l.from)});break;default:var s={...l.from,scrollTrigger:{...DEFAULTS.scrollTrigger,trigger:n}};i?gsap.set(t,l.reset):gsap.from(t,s)}}}function initializeButton(e){var t=window.getComputedStyle(e);const n={left:parseFloat(t.paddingLeft),right:parseFloat(t.paddingRight)};gsap.set(e,{opacity:1}),e.addEventListener("mouseenter",()=>{gsap.to(e,DEFAULTS.buttonAnimations.hover.enter(n))}),e.addEventListener("mouseleave",()=>{gsap.to(e,DEFAULTS.buttonAnimations.hover.leave(n))}),e.addEventListener("mousedown",()=>{gsap.to(e,DEFAULTS.buttonAnimations.click.down)}),e.addEventListener("mouseup",()=>{gsap.to(e,DEFAULTS.buttonAnimations.click.up)})}function initializeAnimations(n=!1){cleanup(),Object.entries(animations).forEach(([e,t])=>{document.querySelectorAll(SELECTORS.getAnimationElements(e)).forEach(e=>applyTrigger(e,t,n))}),document.querySelectorAll(SELECTORS.buttons).forEach(initializeButton),document.querySelectorAll(SELECTORS.replayButtons).forEach(t=>{t.addEventListener("click",()=>{var e=t.getAttribute("voomreplay-for");e&&(e=instances.get(document.getElementById(e)))&&(gsap.set(e.target,e.config.reset),gsap.from(e.target,e.config.from))})})}const handleResize=debounce(()=>{initializeAnimations(!0)},250);loadDependencies().then(e=>{e&&(window.Webflow?(window.Webflow||=[],window.Webflow.push(initializeAnimations)):initializeAnimations(),window.addEventListener("resize",handleResize))});