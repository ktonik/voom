const SELECTORS={getAnimationElements:e=>`[voomsh="${e}"], .voomsh-${e}`,replayButtons:'[voomsh="replay"], .voomsh-replay',buttons:'[voomsh="btn-1"], .voomsh-btn-1'},DEFAULTS={scrollTrigger:{start:"top 90%",end:"bottom 10%",toggleActions:"play none none reverse",markers:!1},skipAnimation:!1,buttonAnimations:{hover:{enter:e=>({paddingLeft:1.2*e.left,paddingRight:1.2*e.right,scale:1.05,duration:.3,ease:"back.out(3)"}),leave:e=>({paddingLeft:e.left,paddingRight:e.right,scale:1,duration:.3,ease:"back.out(1)"})},click:{down:{scale:1,filter:"blur(4px)",duration:.1,ease:"power2.out"},up:{scale:1.05,filter:"blur(0px)",duration:.1,ease:"power2.out"}}}},animations={"hdr-1":{variants:{default:{from:{x:40,duration:.5,stagger:.03,opacity:0,filter:"blur(15px)",ease:"circ.out"},reset:{opacity:1,x:0,filter:"blur(0px)"}}},setup(e){let t=new SplitType(e,{types:"lines"}),r=new SplitType(t.lines,{types:"chars"});return{lines:t,chars:r}},getTarget:e=>e.chars.chars},"par-1":{variants:{default:{from:{x:10,stagger:.05,duration:.3,opacity:0,filter:"blur(5px)",ease:"circ.out"},reset:{x:0,opacity:1,filter:"blur(0px)"}}},setup(e){let t=new SplitType(e,{types:"lines"}),r=new SplitType(t.lines,{types:"words"});return{lines:t,words:r}},getTarget:e=>e.words.words}},instances=new Map,loadDependencies=async()=>{try{return await Promise.all([loadScript("https://unpkg.com/split-type"),loadScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js")]),await loadScript("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"),gsap.registerPlugin(ScrollTrigger),!0}catch(e){return console.error("Failed to load Voom dependencies:",e),!1}};function loadScript(e){return new Promise((t,r)=>{let n=document.createElement("script");n.src=e,n.onload=t,n.onerror=r,document.body.appendChild(n)})}function cleanup(){instances.forEach(e=>{e.split.chars&&e.split.chars.revert(),e.split.lines&&e.split.lines.revert(),e.split.revert&&e.split.revert()}),instances.clear()}const debounce=(e,t)=>{let r;return function n(...i){let o=()=>{clearTimeout(r),e(...i)};clearTimeout(r),r=setTimeout(o,t)}};function applyAnimation(e,t){try{let r=t.setup(e);if(!r)return console.warn("Split operation failed for element:",e),null;let n=t.getTarget(r);return{split:r,target:n}}catch(i){return console.error("Error applying animation:",i),null}}function applyTrigger(e,t,r=!1){let n=applyAnimation(e,t);if(!n)return;let{split:i,target:o}=n,a=e.getAttribute("voomtrigger")||e.getAttribute("data-voomtrigger")||"scroll",s=window.innerWidth<768?"mobile":"default",l=t.variants[s]||t.variants.default;switch(instances.set(e,{split:i,target:o,config:l}),a){case"hover":gsap.set(o,l.reset),e.addEventListener("mouseenter",()=>{gsap.from(o,l.from)});break;case"click":gsap.set(o,l.reset),e.addEventListener("click",()=>{gsap.from(o,l.from)});break;default:let c={...l.from,scrollTrigger:{...DEFAULTS.scrollTrigger,trigger:e}};r?gsap.set(o,l.reset):gsap.from(o,c)}}function initializeButton(e){let t=window.getComputedStyle(e),r={left:parseFloat(t.paddingLeft),right:parseFloat(t.paddingRight)};gsap.set(e,{opacity:1}),e.addEventListener("mouseenter",()=>{gsap.to(e,DEFAULTS.buttonAnimations.hover.enter(r))}),e.addEventListener("mouseleave",()=>{gsap.to(e,DEFAULTS.buttonAnimations.hover.leave(r))}),e.addEventListener("mousedown",()=>{gsap.to(e,DEFAULTS.buttonAnimations.click.down)}),e.addEventListener("mouseup",()=>{gsap.to(e,DEFAULTS.buttonAnimations.click.up)})}function initializeAnimations(e=!1){cleanup(),Object.entries(animations).forEach(([t,r])=>{document.querySelectorAll(SELECTORS.getAnimationElements(t)).forEach(t=>applyTrigger(t,r,e))}),document.querySelectorAll(SELECTORS.buttons).forEach(initializeButton),document.querySelectorAll(SELECTORS.replayButtons).forEach(e=>{e.addEventListener("click",()=>{let t=e.getAttribute("voomreplay-for");if(t){let r=instances.get(document.getElementById(t));r&&(gsap.set(r.target,r.config.reset),gsap.from(r.target,r.config.from))}})})}const handleResize=debounce(()=>{initializeAnimations(!0)},250);loadDependencies().then(e=>{e&&(window.Webflow?(window.Webflow||=[],window.Webflow.push(initializeAnimations)):initializeAnimations(),window.addEventListener("resize",handleResize))});